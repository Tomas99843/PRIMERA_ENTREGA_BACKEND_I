<div class="container mt-4">
  <h2 class="mb-4">Productos en Tiempo Real</h2>
  
  <div class="form-section card mb-4">
    <div class="card-body">
      <form id="addProductForm">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Nombre</label>
            <input type="text" id="title" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Precio</label>
            <input type="number" id="price" class="form-control" step="0.01" min="0" required>
          </div>
          <div class="col-12">
            <label class="form-label">Descripción</label>
            <textarea id="description" class="form-control" rows="2"></textarea>
          </div>
          <div class="col-md-4">
            <label class="form-label">Stock</label>
            <input type="number" id="stock" class="form-control" min="0" value="10" required>
          </div>
          <div class="col-md-4">
            <label class="form-label">Categoría</label>
            <select id="category" class="form-select" required>
              <option value="general">General</option>
              <option value="electronics">Electrónica</option>
              <option value="food">Comida</option>
              <option value="home">Hogar</option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Código (opcional)</label>
            <input type="text" id="code" class="form-control">
          </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary">Agregar Producto</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <h5 class="mb-0">Listado de Productos</h5>
    </div>
    <div class="card-body">
      <div id="productsList">
        {{#if products.length}}
          {{#each products}}
            <div class="product-item card mb-2">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-1">{{this.title}}</h6>
                    <p class="mb-1 text-muted">{{this.description}}</p>
                    <div class="d-flex gap-3 flex-wrap">
                      <small><strong>Precio:</strong> ${{this.price}}</small>
                      <small><strong>Stock:</strong> {{this.stock}}</small>
                      <small><strong>Categoría:</strong> {{this.category}}</small>
                      {{#if this.code}}<small><strong>Código:</strong> {{this.code}}</small>{{/if}}
                    </div>
                  </div>
                  <button class="btn btn-danger btn-sm delete-btn" data-id="{{this._id}}">
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          {{/each}}
        {{else}}
          <div class="alert alert-info">No hay productos disponibles.</div>
        {{/if}}
      </div>
    </div>
  </div>
</div>